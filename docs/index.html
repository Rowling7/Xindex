<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="static/ico/favicon.ico" type="image/x-icon">
  <title>Pitahaya Guide</title>
  <link rel="stylesheet" href="static/css/bootstrap.css">
  <script src="static/js/bootstrap.bundle.js" defer></script>
  <script src=" static/js/widgets.js" defer></script>
  <link rel="stylesheet" href="static/css/styles.css">
  <script src="static/js/js.js" defer></script>
  <script src="static/js/loadData.js" defer></script>
</head>

<body class="d-flex flex-column min-vh-100">
  <!-- ================= 导航栏区域 ================= -->
  <nav class="navbar navbar-expand-lg navbar-light  py-2" id="headerContainer">
    <div class="container-fluid">
      <!-- 品牌Logo和标题 -->
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="static/ico/favicon.ico" width="30" height="30" class="d-inline-block align-top" alt="Logo"
          id="image4Gif">
        <span class="site-title ms-2" id="siteTitle"></span><!--Pitahaya-->
      </a>

      <!-- 右侧功能区域 -->
      <div class="d-flex align-items-center">
        <!-- 小搜索框 -->
        <div class="input-group me-3" id="linkSearchContainer" style="width: 200px;">
          <input type="text" class="form-control form-control-sm" id="inpt_search" placeholder="linkSearch">
        </div>

        <!-- 功能按钮组 -->
        <div class="btn-group me-2">
          <!-- 切换页面按钮 -->
          <a href="Xindex.html" class="btn btn-sm btn-outline-secondary" id="changePage">
            <img src="static/ico/change.png" width="16" alt="切换页面">
          </a>
          <!-- 切换背景按钮 -->
          <a href="changeBG.html" class="btn btn-sm btn-outline-secondary" id="changeBG">
            <img src="static/ico/changeBG.png" width="16" alt="切换背景">
          </a>
          <!-- 简洁模式按钮 -->
          <button class="btn btn-sm btn-outline-secondary" id="lightMod">
            <img src="static/ico/lightMod.png" width="16" alt="简洁模式">
          </button>
        </div>

        <!-- 设置下拉菜单 -->
        <div class="dropdown">
          <button class="btn btn-sm btn-outline-secondary dropdown-toggle" id="settingsBtn" data-bs-toggle="dropdown"
            aria-expanded="false">
            <img src="static/ico/setting.png" width="16" alt="设置">
          </button>
          <ul class="dropdown-menu dropdown-menu-end" id="settingsDropdown">
            <!-- 动态生成的下拉选项 -->
            <li><a class="dropdown-item" href="#">设置1</a></li>
            <li><a class="dropdown-item" href="#">设置2</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#" onclick="toggleTheme()">切换暗黑模式</a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- ================= 主搜索区域 ================= -->
  <div class="container d-flex align-items-center justify-content-center mt-0" id="webSearchContainer">
    <div class="col-md-8">
      <form id="searchForm" class="input-group shadow-sm rounded-3">
        <select class="form-select flex-grow-0 w-auto border-end-0" id="engineSelect" aria-label="搜索引擎选择"
          style="background-color: #f8f9fa; transition: all 0.3s;">
          <option value="https://www.bing.com/search?q=">Bing</option>
          <option value="https://www.baidu.com/s?wd=">百度</option>
          <option value="https://xiaoyi.huawei.com/?q=">小艺</option>
          <option value="https://www.sogou.com/web?ie={inputEncoding}&query=">搜狗</option>
          <option value="https://www.so.com/s?ie={inputEncoding}&q=">360</option>
          <option value="http://www.zhihu.com/search?type=content&q=">知乎</option>
          <option value="https://s.weibo.com/weibo?q=">微博</option>
          <option value="https://www.xiaohongshu.com/search_result?keyword=">小红书</option>
          <option value="https://www.douban.com/search?source=suggest&q=">豆瓣</option>
          <option value="https://www.douyin.com/root/search/">抖音</option>
          <option value="https://search.bilibili.com/video?keyword=">B站</option>
        </select>
        <input type="text" class="form-control border-start-0 border-end-0 px-3"
          placeholder="Type Something To Search ..." aria-label="搜索内容" name="q" required
          style="height: 46px; font-size: 1rem;">
        <button type="submit" class="btn btn-primary btn-search d-flex align-items-center px-3"
          style="border-radius: 0 0.375rem 0.375rem 0; transition: all 0.3s;">
          <img src="static/ico/search.png" alt="搜索图标" width="20">
        </button>
      </form>
    </div>
  </div>

  <!-- ================= 主内容区域 ================= -->
  <!-- ===== 视图切换导航 ===== -->
  <div class="mt-1" id="viewTabContainer" style="height: 50px;">
    <ul class="nav nav-tabs justify-content-center" id="viewTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active " id="widget-tab" data-bs-toggle="tab" data-bs-target="#widgetContainer"
          type="button" role="tab">
          组件视图
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link " id="link-tab" data-bs-toggle="tab" data-bs-target="#linkContainer" type="button"
          role="tab">
          链接视图
        </button>
      </li>
    </ul>
  </div>

  <!-- ===== 修改后的主内容区域 ===== -->
  <div class="mt-2 tab-content" id="mainContent">
    <!-- 组件视图 -->
    <div class="tab-pane fade mt-2 show active row g-4 row-cols-2 row-cols-md-3 row-cols-lg-4" id="widgetContainer"
      role="tabpanel">
      <!-- 时钟组件 -->
      <div class="col">
        <div class="card-body text-center" id="clockContainer"></div>
      </div>
      <!-- 社畜组件 -->
      <div class="col">
        <div class="card-body" id="workTimeContainer"></div>
      </div>
      <!-- 其他组件... -->
    </div>


    <!-- 现有链接视图 (保持原样) -->
    <div class="tab-pane fade mt-2" id="linkContainer" role="tabpanel">
      <div id="link-container" class="tab-content row g-4 row-cols-2 row-cols-md-3 row-cols-lg-4">
        <!-- 动态生成tab-pane -->
      </div>
    </div>


  </div>

  <!-- ================= 底栏区域 ================= -->
  <footer class="mt-auto sticky-bottom" id="footerContainer">
    <div class="container">
      <nav class="nav nav-pills justify-content-center" id="category-nav">
        <!-- 导航项由JS生成 -->
      </nav>
    </div>
  </footer>

</body>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // 初始化时钟组件
    new ClockWidget({
      containerId: 'clockContainer',
      use24HourFormat: true,
      highlightColor: "#9c27b0"
    });
    // 初始化社畜倒计时
    new WorkTimeWidget({
      containerId: 'workTimeContainer'
    });
    // 其他组件初始化...
  });
</script>

</html>